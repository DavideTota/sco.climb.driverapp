<?xml version="1.0" encoding="utf-8"?>
    <plugin xmlns="http://www.phonegap.com/ns/plugins/1.0" id="it.smartcommunitylab.climb.dap" version="0.1.0">

        <name>CLIMBDriverAppPlugin</name>

        <engines>
            <engine name="cordova" version=">=5.1.0" />
        </engines>

        <js-module src="www/driver-app-plugin.js" name="DriverAppPlugin">
            <clobbers target="DriverAppPlugin" />
        </js-module>

        <platform name="android">
            <config-file target="AndroidManifest.xml" parent="/manifest/application">
          		<service android:name="fbk.climblogger.ClimbSimpleService" android:enabled="true" android:exported="false"></service>
          	</config-file>

            <config-file target="AndroidManifest.xml" parent="/manifest">
                <uses-feature android:name="android.hardware.bluetooth_le" android:required="true" />
                <uses-permission android:name="android.permission.BLUETOOTH" />
                <uses-permission android:name="android.permission.BLUETOOTH_ADMIN" />
                <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
                <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
                <uses-permission android:name="android.permission.VIBRATE" />

                <intent-filter>
        			<action android:name="fbk.climblogger.ClimbSimpleService" />
    			</intent-filter>
            </config-file>

            <config-file target="res/xml/config.xml" parent="/*">
                <feature name="DriverAppPlugin">
                    <param name="android-package" value="it.smartcommunitylab.climb.dap.DriverAppPlugin" />
                    <param name="onload" value="true" />
                </feature>
            </config-file>

            <source-file src="src/android/it/smartcommunitylab/climb/dap/DriverAppPlugin.java" target-dir="src/it/smartcommunitylab/climb/dap" />
            <source-file src="src/android/fbk/climblogger/ClimbNode.java" target-dir="src/fbk/climblogger" />
            <!--<source-file src="src/android/fbk/climblogger/ClimbService.java" target-dir="src/fbk/climblogger" />-->
            <source-file src="src/android/fbk/climblogger/ClimbSimpleService.java" target-dir="src/fbk/climblogger" />
            <source-file src="src/android/fbk/climblogger/ClimbServiceInterface.java" target-dir="src/fbk/climblogger" />
            <source-file src="src/android/fbk/climblogger/ConfigVals.java" target-dir="src/fbk/climblogger" />
            <source-file src="src/android/fbk/climblogger/MonitoredClimbNode.java" target-dir="src/fbk/climblogger" />

            <!-- <lib-file src="src/android/libs/gcm.jar" /> -->
        </platform>
    </plugin>
